.container(data-bind=`css: { 'container--is-loading': (
    loading() && !loadingNextPage()) || processingConfirm() }`)
  .container__header
    .flex-row.align-items-center
      .flex-no-shrink.mr(data-bind="css: {'sm-hidden': $root.flavor() != 'chooser'}")
        .icon.icon--large(data-bind=`
            click: files.toggleSearchView.bind($data, true),
            css: { 'icon--disabled': loading, 'invisible': $root.flavor() != 'chooser'}`)
          .icon__search
      .flex-grow
        include selector
      .flex-no-shrink.ml(data-bind="css: {'sm-hidden': attachMode()}")
        .icon.icon--large(data-bind=`
            click: cancel,
            css: { 'invisible': attachMode() }`)
          .icon__close
  .container__body
    .flex-col.flex-grow.h-100
      .flex-no-shrink.w-100
        .flex-row.mb
          .flex-grow.mr
            include breadcrumb
          .flex-no-shrink
            .icon.icon--button.icon--large(data-bind='click: files.refresh')
              .icon__refresh
          // ko if: files.allow_newdir
          .flex-no-shrink.ml
            .icon.icon--button.icon--large(data-bind='click: files.newdir')
              .icon__new-folder
          // /ko
      include filetable

  include footer
